{"ast":null,"code":"var _jsxFileName = \"D:\\\\MernStactEcommerce\\\\ecommerce\\\\src\\\\screens\\\\ProductScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Row, Col, Image, ListGroup, Card, Button, Form } from \"react-bootstrap\";\nimport Rating from '../components/Rating';\nimport axios from \"axios\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { listSingleProduct, createProductReview } from \"../actions/productActions\";\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/productConstants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProductScreen = props => {\n  _s();\n\n  //const product = products.find((p => p._id === props.match.params.id))\n  const dispatch = useDispatch();\n  const productDetail = useSelector(state => state.productDetail);\n  const {\n    loading,\n    error,\n    product\n  } = productDetail;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  const productReviewCreate = useSelector(state => state.productReviewCreate);\n  const {\n    loading: loadingProductReview,\n    error: errorProductReview,\n    success: successProductReview\n  } = productReviewCreate;\n  const [qty, setQty] = useState(1);\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState('');\n  useEffect(() => {\n    dispatch(listSingleProduct(props.match.params.id));\n  }, [props.match.params.id]);\n  useEffect(() => {\n    dispatch(listSingleProduct(props.match.params.id));\n  }, [dispatch, successProductReview]);\n\n  const addToCartHandler = () => {\n    props.history.push(`/cart/${props.match.params.id}?qty=${qty}`);\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(createProductReview(props.match.params.id, {\n      rating,\n      comment\n    }));\n    console.log(\"submitted\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      className: \"btn btn-dark my-3\",\n      to: \"/\",\n      children: \"Go Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 27\n    }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 48\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          sm: 12,\n          md: 6,\n          lg: 6,\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: product.image,\n            alt: product.name,\n            fluid: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(ListGroup, {\n            variant: \"flush\",\n            children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Rating, {\n                value: product.rating,\n                text: `${product.numReviews} reviews`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [\"Price: $\", product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [\"Description: \", product.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(ListGroup, {\n              children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Price:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: [\"$\", product.price]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 81,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 80,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Status:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: product.countInStock > 0 ? \"In Stock\" : \"Out of Stock\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 29\n              }, this), product.countInStock > 0 && /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Qty\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                      as: \"select\",\n                      value: qty,\n                      onChange: e => {\n                        setQty(e.target.value);\n                      },\n                      children: [...Array(product.countInStock).keys()].map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: x + 1,\n                        children: x + 1\n                      }, x + 1, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 107,\n                        columnNumber: 54\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 103,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    className: \"btn-block \",\n                    type: \"button\",\n                    onClick: addToCartHandler,\n                    disabled: product.countInStock === 0,\n                    children: \"Add to Cart\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Reviews\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 33\n          }, this), product.reviews.length === 0 && /*#__PURE__*/_jsxDEV(Message, {\n            children: \"No Reviews\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 66\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n            variant: \"flush\",\n            children: product.reviews && product.reviews.map(review => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"Reviewer Name : \", review.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(Rating, {\n                value: review.rating\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Review At : \", review.createdAt.substring(0, 10)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Comments : \", review.comment]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 45\n              }, this)]\n            }, review._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 33\n          }, this), errorProductReview && /*#__PURE__*/_jsxDEV(Message, {\n            variant: \"danger\",\n            children: errorProductReview\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 56\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Write a Customer Review\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 37\n            }, this), userInfo ? /*#__PURE__*/_jsxDEV(Form, {\n              onSubmit: submitHandler,\n              children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"my-2\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Rating\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"number\",\n                  placeholder: \"Enter rating\",\n                  value: rating,\n                  onChange: e => setRating(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"my-2\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Comment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  placeholder: \"Enter comment\",\n                  value: comment,\n                  onChange: e => setComment(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  className: \" my-2\",\n                  variant: \"primary\",\n                  children: \"Add comment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 45\n            }, this) : /*#__PURE__*/_jsxDEV(Message, {\n              children: [\"Please \", /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/login\",\n                children: \"Sign in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 64\n              }, this), \" to write a review\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n};\n\n_s(ProductScreen, \"ed9aZwO6XJBNGzsSkUnmtdjnoNM=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = ProductScreen;\nexport default ProductScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductScreen\");","map":{"version":3,"sources":["D:/MernStactEcommerce/ecommerce/src/screens/ProductScreen.js"],"names":["React","useState","useEffect","Link","Row","Col","Image","ListGroup","Card","Button","Form","Rating","axios","useDispatch","useSelector","listSingleProduct","createProductReview","Loader","Message","PRODUCT_CREATE_REVIEW_RESET","ProductScreen","props","dispatch","productDetail","state","loading","error","product","userLogin","userInfo","productReviewCreate","loadingProductReview","errorProductReview","success","successProductReview","qty","setQty","rating","setRating","comment","setComment","match","params","id","addToCartHandler","history","push","submitHandler","e","preventDefault","console","log","image","name","numReviews","price","description","countInStock","target","value","Array","keys","map","x","reviews","length","review","createdAt","substring","_id"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {Row,Col,Image,ListGroup,Card,Button, Form } from \"react-bootstrap\";\r\nimport Rating from '../components/Rating';\r\nimport axios from \"axios\";\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { listSingleProduct,createProductReview } from \"../actions/productActions\"\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport {PRODUCT_CREATE_REVIEW_RESET} from '../constants/productConstants'\r\n\r\nconst ProductScreen = (props) => {\r\n    //const product = products.find((p => p._id === props.match.params.id))\r\n    const dispatch = useDispatch();\r\n    const productDetail = useSelector(state => state.productDetail)\r\n    const { loading, error, product } = productDetail;\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin;\r\n\r\n    const productReviewCreate = useSelector(state => state.productReviewCreate)\r\n    const { loading: loadingProductReview , error: errorProductReview , success: successProductReview  } = productReviewCreate;\r\n    \r\n    const [qty, setQty] = useState(1)\r\n    const[rating,setRating]=useState(0)\r\n    const [comment, setComment] = useState('')\r\n    useEffect(() => {\r\n        dispatch(listSingleProduct(props.match.params.id))\r\n    }, [props.match.params.id])\r\n    useEffect(() => {\r\n        dispatch(listSingleProduct(props.match.params.id))\r\n    }, [dispatch,successProductReview])\r\n    \r\n    const addToCartHandler = () => {\r\n        props.history.push(`/cart/${props.match.params.id}?qty=${qty}`)\r\n    }\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n        dispatch(createProductReview(props.match.params.id, {\r\n            rating,\r\n            comment\r\n        }))\r\n       \r\n        console.log(\"submitted\")\r\n  }\r\n    return (\r\n        <>\r\n            <Link className=\"btn btn-dark my-3\" to=\"/\">Go Back</Link>\r\n            {\r\n                loading ? <Loader /> : error ? <Message variant='danger'>{error}</Message> : (\r\n                <>\r\n                <Row>\r\n                <Col sm={12} md={6} lg={6}>\r\n                        <Image src={product.image} alt={product.name} fluid />\r\n                </Col>\r\n                <Col md={3} >\r\n                    <ListGroup variant=\"flush\">\r\n                        <ListGroup.Item>\r\n                            <h3>{ product.name}</h3>\r\n                        </ListGroup.Item>\r\n                          <ListGroup.Item>\r\n                            <Rating value={product.rating} text={`${product.numReviews} reviews`}/>\r\n                        </ListGroup.Item>\r\n                          <ListGroup.Item>\r\n                           Price: ${product.price}\r\n                        </ListGroup.Item>\r\n                          <ListGroup.Item>\r\n                            Description: {product.description}\r\n                        </ListGroup.Item>\r\n                    </ListGroup>\r\n                </Col>\r\n                <Col md={3}>\r\n                    <Card>\r\n                          <ListGroup>\r\n                              <ListGroup.Item>\r\n                                <Row>\r\n                                    <Col>\r\n                                        Price:\r\n                                    </Col>\r\n                                    <Col>\r\n                                        <strong>${product.price}</strong>\r\n                                    </Col>\r\n                            </Row>\r\n                            </ListGroup.Item>\r\n                            <ListGroup.Item>\r\n                                <Row>\r\n                                    <Col>\r\n                                        Status:\r\n                                    </Col>\r\n                                    <Col>\r\n                                       {product.countInStock >0 ?\"In Stock\":\"Out of Stock\"}\r\n                                    </Col>\r\n                            </Row>\r\n                                </ListGroup.Item>\r\n                                {\r\n                                    product.countInStock > 0 && (\r\n                                        <ListGroup.Item>\r\n                                            <Row>\r\n                                                <Col>\r\n                                                    Qty\r\n                                                </Col>\r\n                                                <Col>\r\n                                                    <Form.Control as='select' value={qty} onChange={(e) => {\r\n                                                    setQty(e.target.value)\r\n                                                }}>\r\n                                                   { [...Array(product.countInStock).keys()].map((x) =>(\r\n                                                     <option key={x + 1} value={x + 1}>{x + 1}</option>\r\n                                                   ))\r\n                                                    }\r\n                                                </Form.Control>\r\n                                                </Col>\r\n                                                \r\n                                            </Row>\r\n                                        </ListGroup.Item>\r\n                                    )\r\n                            }\r\n                            <ListGroup.Item>\r\n                                <Row>\r\n                                <Button className=\"btn-block \" type=\"button\" onClick={addToCartHandler} disabled={product.countInStock ===0}>\r\n                                        Add to Cart\r\n                                </Button>\r\n                                </Row>\r\n                        </ListGroup.Item>\r\n                        </ListGroup>\r\n                    </Card>\r\n                </Col>\r\n                </Row>\r\n                    <Row>\r\n                    <Col md={6}>\r\n                                <h2>Reviews</h2>\r\n                                {product.reviews.length === 0 && <Message>No Reviews</Message>}\r\n                                <ListGroup variant='flush'>\r\n                                    {product.reviews && product.reviews.map(review => (\r\n                                        <ListGroup.Item key={review._id}>\r\n                                            <strong>Reviewer Name : {review.name}</strong>\r\n                                            <Rating value={review.rating} />\r\n                                            <p>Review At : {review.createdAt.substring(0, 10)}</p>\r\n                                            <p>Comments : {review.comment}</p>\r\n                                        </ListGroup.Item>\r\n                                    ))}\r\n                                </ListGroup>\r\n                                {errorProductReview && <Message variant='danger'>{errorProductReview}</Message>}\r\n                                <ListGroup.Item>\r\n                                    <h2>Write a Customer Review</h2>\r\n                                    {\r\n                                        userInfo ? (\r\n                                            <Form onSubmit={submitHandler}>\r\n                                            <Form.Group className=\"my-2\">\r\n                                                <Form.Label>Rating</Form.Label>\r\n                                                <Form.Control\r\n                                                    type='number'\r\n                                                    placeholder='Enter rating'\r\n                                                    value={rating} onChange={(e) => setRating(e.target.value)}>\r\n                                                </Form.Control>\r\n                                            </Form.Group>\r\n                                            <Form.Group className=\"my-2\">\r\n                                                <Form.Label>Comment</Form.Label>\r\n                                                <Form.Control\r\n                                                    type='text'\r\n                                                    placeholder='Enter comment'\r\n                                                    value={comment} onChange={(e) => setComment(e.target.value)}>\r\n                                                </Form.Control>\r\n                                                </Form.Group>\r\n                                                <Row>\r\n                                                    <Button type=\"submit\"  className=\" my-2\" variant='primary'  >Add comment</Button>\r\n                                                </Row>\r\n                                            </Form>)\r\n                                            : <Message >Please <Link to=\"/login\">Sign in</Link> to write a review</Message>\r\n                                    }\r\n                                </ListGroup.Item>\r\n                    </Col>\r\n                    </Row>\r\n                </>\r\n                )\r\n            }\r\n                  </>\r\n    )\r\n}\r\n\r\nexport default ProductScreen\r\n"]},"metadata":{},"sourceType":"module"}