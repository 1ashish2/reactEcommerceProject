{"ast":null,"code":"import _regeneratorRuntime from\"D:/MernStactEcommerce/ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/MernStactEcommerce/ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{CART_ADD_ITEM,CART_REMOVE_ITEM,CART_SAVE_SHIPPING_ADDRESS,CART_SAVE_PAYMENT_METHOD}from\"../constants/cartConstants\";import axios from\"axios\";export var addToCart=function addToCart(id,qty){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/products/\".concat(id));case 2:result=_context.sent;dispatch({type:CART_ADD_ITEM,payload:{product:result.data._id,name:result.data.name,image:result.data.image,price:result.data.price,countInStock:result.data.countInStock,qty:qty}});localStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems));case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var removeFromCart=function removeFromCart(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch,getState){var result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"/api/products/\".concat(id));case 2:result=_context2.sent;dispatch({type:CART_REMOVE_ITEM,payload:id});localStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems));//updating localstorage\ncase 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};export var saveShippingAddress=function saveShippingAddress(data){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch({type:CART_SAVE_SHIPPING_ADDRESS,payload:data});localStorage.setItem('shippingAddress',JSON.stringify(data));//updating localstorage\ncase 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x5){return _ref3.apply(this,arguments);};}();};export var savePaymentMethod=function savePaymentMethod(data){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch({type:CART_SAVE_PAYMENT_METHOD,payload:data});localStorage.setItem('paymentMethod',JSON.stringify(data));//updating localstorage\ncase 2:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x6){return _ref4.apply(this,arguments);};}();};","map":{"version":3,"sources":["D:/MernStactEcommerce/ecommerce/src/actions/cartAction.js"],"names":["CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","axios","addToCart","id","qty","dispatch","getState","get","result","type","payload","product","data","_id","name","image","price","countInStock","localStorage","setItem","JSON","stringify","cart","cartItems","removeFromCart","saveShippingAddress","savePaymentMethod"],"mappings":"ySAAA,OAASA,aAAT,CAAwBC,gBAAxB,CAAyCC,0BAAzC,CAAoEC,wBAApE,KAAoG,4BAApG,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,EAAD,CAAKC,GAAL,iGAAa,iBAAOC,QAAP,CAAiBC,QAAjB,mJAEbL,CAAAA,KAAK,CAACM,GAAN,yBAA2BJ,EAA3B,EAFa,QAE5BK,MAF4B,eAGlCH,QAAQ,CAAC,CACLI,IAAI,CAAEZ,aADD,CAELa,OAAO,CAAE,CACLC,OAAO,CAAEH,MAAM,CAACI,IAAP,CAAYC,GADhB,CAELC,IAAI,CAAEN,MAAM,CAACI,IAAP,CAAYE,IAFb,CAGLC,KAAK,CAAEP,MAAM,CAACI,IAAP,CAAYG,KAHd,CAILC,KAAK,CAAER,MAAM,CAACI,IAAP,CAAYI,KAJd,CAKLC,YAAY,CAAET,MAAM,CAACI,IAAP,CAAYK,YALrB,CAMLb,GAAG,CAAHA,GANK,CAFJ,CAAD,CAAR,CAYAc,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAiCC,IAAI,CAACC,SAAL,CAAef,QAAQ,GAAGgB,IAAX,CAAgBC,SAA/B,CAAjC,EAfkC,sDAAb,oEAAlB,CAiBP,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACrB,EAAD,kGAAQ,kBAAOE,QAAP,CAAiBC,QAAjB,wJAEbL,CAAAA,KAAK,CAACM,GAAN,yBAA2BJ,EAA3B,EAFa,QAE5BK,MAF4B,gBAGlCH,QAAQ,CAAC,CACLI,IAAI,CAAEX,gBADD,CAELY,OAAO,CAAEP,EAFJ,CAAD,CAAR,CAKAe,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAiCC,IAAI,CAACC,SAAL,CAAef,QAAQ,GAAGgB,IAAX,CAAgBC,SAA/B,CAAjC,EAA4E;AAR1C,wDAAR,sEAAvB,CAUP,MAAO,IAAME,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACb,IAAD,kGAAU,kBAAOP,QAAP,sHAEzCA,QAAQ,CAAC,CACLI,IAAI,CAAEV,0BADD,CAELW,OAAO,CAAEE,IAFJ,CAAD,CAAR,CAKAM,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAuCC,IAAI,CAACC,SAAL,CAAeT,IAAf,CAAvC,EAA6D;AAPpB,wDAAV,kEAA5B,CASP,MAAO,IAAMc,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACd,IAAD,kGAAU,kBAAOP,QAAP,sHAEvCA,QAAQ,CAAC,CACLI,IAAI,CAAET,wBADD,CAELU,OAAO,CAAEE,IAFJ,CAAD,CAAR,CAKAM,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAqCC,IAAI,CAACC,SAAL,CAAeT,IAAf,CAArC,EAA2D;AAPpB,wDAAV,kEAA1B","sourcesContent":["import { CART_ADD_ITEM, CART_REMOVE_ITEM,CART_SAVE_SHIPPING_ADDRESS,CART_SAVE_PAYMENT_METHOD } from \"../constants/cartConstants\"\r\nimport axios from \"axios\"\r\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\r\n    \r\n    const result = await axios.get(`/api/products/${id}`);\r\n    dispatch({\r\n        type: CART_ADD_ITEM,\r\n        payload: {\r\n            product: result.data._id,\r\n            name: result.data.name,\r\n            image: result.data.image,\r\n            price: result.data.price,\r\n            countInStock: result.data.countInStock,\r\n            qty\r\n        }\r\n    })\r\n\r\n    localStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems))\r\n}\r\nexport const removeFromCart = (id) => async (dispatch, getState) => {\r\n    \r\n    const result = await axios.get(`/api/products/${id}`);\r\n    dispatch({\r\n        type: CART_REMOVE_ITEM,\r\n        payload: id\r\n    })\r\n\r\n    localStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems)) //updating localstorage\r\n}\r\nexport const saveShippingAddress = (data) => async (dispatch) => {\r\n   \r\n    dispatch({\r\n        type: CART_SAVE_SHIPPING_ADDRESS,\r\n        payload: data\r\n    })\r\n\r\n    localStorage.setItem('shippingAddress',JSON.stringify(data)) //updating localstorage\r\n}\r\nexport const savePaymentMethod = (data) => async (dispatch) => {\r\n    \r\n    dispatch({\r\n        type: CART_SAVE_PAYMENT_METHOD,\r\n        payload: data\r\n    })\r\n\r\n    localStorage.setItem('paymentMethod',JSON.stringify(data)) //updating localstorage\r\n}\r\n"]},"metadata":{},"sourceType":"module"}