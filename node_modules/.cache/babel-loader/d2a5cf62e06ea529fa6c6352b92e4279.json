{"ast":null,"code":"import { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_SHIPPING_ADDRESS, CART_SAVE_PAYMENT_METHOD } from \"../constants/cartConstants\";\nimport axios from \"axios\";\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\n  const result = await axios.get(`/api/products/${id}`);\n  dispatch({\n    type: CART_ADD_ITEM,\n    payload: {\n      product: result.data._id,\n      name: result.data.name,\n      image: result.data.image,\n      price: result.data.price,\n      countInStock: result.data.countInStock,\n      qty\n    }\n  });\n  localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\n};\nexport const removeFromCart = id => async (dispatch, getState) => {\n  const result = await axios.get(`/api/products/${id}`);\n  dispatch({\n    type: CART_REMOVE_ITEM,\n    payload: id\n  });\n  localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems)); //updating localstorage\n};\nexport const saveShippingAddress = data => async dispatch => {\n  console.log(data);\n  dispatch({\n    type: CART_SAVE_SHIPPING_ADDRESS,\n    payload: data\n  });\n  localStorage.setItem('shippingAddress', JSON.stringify(data)); //updating localstorage\n};\nexport const savePaymentMethod = data => async dispatch => {\n  console.log(data);\n  dispatch({\n    type: CART_SAVE_PAYMENT_METHOD,\n    payload: data\n  });\n  localStorage.setItem('paymentMethod', JSON.stringify(data)); //updating localstorage\n};","map":{"version":3,"sources":["D:/MernStactEcommerce/ecommerce/src/actions/cartAction.js"],"names":["CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","axios","addToCart","id","qty","dispatch","getState","result","get","type","payload","product","data","_id","name","image","price","countInStock","localStorage","setItem","JSON","stringify","cart","cartItems","removeFromCart","saveShippingAddress","console","log","savePaymentMethod"],"mappings":"AAAA,SAASA,aAAT,EAAwBC,gBAAxB,EAAyCC,0BAAzC,EAAoEC,wBAApE,QAAoG,4BAApG;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAMC,SAAS,GAAG,CAACC,EAAD,EAAKC,GAAL,KAAa,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AAEhE,QAAMC,MAAM,GAAG,MAAMN,KAAK,CAACO,GAAN,CAAW,iBAAgBL,EAAG,EAA9B,CAArB;AACAE,EAAAA,QAAQ,CAAC;AACLI,IAAAA,IAAI,EAAEZ,aADD;AAELa,IAAAA,OAAO,EAAE;AACLC,MAAAA,OAAO,EAAEJ,MAAM,CAACK,IAAP,CAAYC,GADhB;AAELC,MAAAA,IAAI,EAAEP,MAAM,CAACK,IAAP,CAAYE,IAFb;AAGLC,MAAAA,KAAK,EAAER,MAAM,CAACK,IAAP,CAAYG,KAHd;AAILC,MAAAA,KAAK,EAAET,MAAM,CAACK,IAAP,CAAYI,KAJd;AAKLC,MAAAA,YAAY,EAAEV,MAAM,CAACK,IAAP,CAAYK,YALrB;AAMLb,MAAAA;AANK;AAFJ,GAAD,CAAR;AAYAc,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAiCC,IAAI,CAACC,SAAL,CAAef,QAAQ,GAAGgB,IAAX,CAAgBC,SAA/B,CAAjC;AACH,CAhBM;AAiBP,OAAO,MAAMC,cAAc,GAAIrB,EAAD,IAAQ,OAAOE,QAAP,EAAiBC,QAAjB,KAA8B;AAEhE,QAAMC,MAAM,GAAG,MAAMN,KAAK,CAACO,GAAN,CAAW,iBAAgBL,EAAG,EAA9B,CAArB;AACAE,EAAAA,QAAQ,CAAC;AACLI,IAAAA,IAAI,EAAEX,gBADD;AAELY,IAAAA,OAAO,EAAEP;AAFJ,GAAD,CAAR;AAKAe,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAiCC,IAAI,CAACC,SAAL,CAAef,QAAQ,GAAGgB,IAAX,CAAgBC,SAA/B,CAAjC,EARgE,CAQY;AAC/E,CATM;AAUP,OAAO,MAAME,mBAAmB,GAAIb,IAAD,IAAU,MAAOP,QAAP,IAAoB;AAC7DqB,EAAAA,OAAO,CAACC,GAAR,CAAYf,IAAZ;AACAP,EAAAA,QAAQ,CAAC;AACLI,IAAAA,IAAI,EAAEV,0BADD;AAELW,IAAAA,OAAO,EAAEE;AAFJ,GAAD,CAAR;AAKAM,EAAAA,YAAY,CAACC,OAAb,CAAqB,iBAArB,EAAuCC,IAAI,CAACC,SAAL,CAAeT,IAAf,CAAvC,EAP6D,CAOA;AAChE,CARM;AASP,OAAO,MAAMgB,iBAAiB,GAAIhB,IAAD,IAAU,MAAOP,QAAP,IAAoB;AAC3DqB,EAAAA,OAAO,CAACC,GAAR,CAAYf,IAAZ;AACAP,EAAAA,QAAQ,CAAC;AACLI,IAAAA,IAAI,EAAET,wBADD;AAELU,IAAAA,OAAO,EAAEE;AAFJ,GAAD,CAAR;AAKAM,EAAAA,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAqCC,IAAI,CAACC,SAAL,CAAeT,IAAf,CAArC,EAP2D,CAOA;AAC9D,CARM","sourcesContent":["import { CART_ADD_ITEM, CART_REMOVE_ITEM,CART_SAVE_SHIPPING_ADDRESS,CART_SAVE_PAYMENT_METHOD } from \"../constants/cartConstants\"\r\nimport axios from \"axios\"\r\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\r\n    \r\n    const result = await axios.get(`/api/products/${id}`);\r\n    dispatch({\r\n        type: CART_ADD_ITEM,\r\n        payload: {\r\n            product: result.data._id,\r\n            name: result.data.name,\r\n            image: result.data.image,\r\n            price: result.data.price,\r\n            countInStock: result.data.countInStock,\r\n            qty\r\n        }\r\n    })\r\n\r\n    localStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems))\r\n}\r\nexport const removeFromCart = (id) => async (dispatch, getState) => {\r\n    \r\n    const result = await axios.get(`/api/products/${id}`);\r\n    dispatch({\r\n        type: CART_REMOVE_ITEM,\r\n        payload: id\r\n    })\r\n\r\n    localStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems)) //updating localstorage\r\n}\r\nexport const saveShippingAddress = (data) => async (dispatch) => {\r\n    console.log(data)\r\n    dispatch({\r\n        type: CART_SAVE_SHIPPING_ADDRESS,\r\n        payload: data\r\n    })\r\n\r\n    localStorage.setItem('shippingAddress',JSON.stringify(data)) //updating localstorage\r\n}\r\nexport const savePaymentMethod = (data) => async (dispatch) => {\r\n    console.log(data)\r\n    dispatch({\r\n        type: CART_SAVE_PAYMENT_METHOD,\r\n        payload: data\r\n    })\r\n\r\n    localStorage.setItem('paymentMethod',JSON.stringify(data)) //updating localstorage\r\n}"]},"metadata":{},"sourceType":"module"}