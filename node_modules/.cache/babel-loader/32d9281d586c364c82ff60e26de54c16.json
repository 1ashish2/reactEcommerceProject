{"ast":null,"code":"var _jsxFileName = \"D:\\\\MernStactEcommerce\\\\ecommerce\\\\src\\\\screens\\\\ProductScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Row, Col, Image, ListGroup, Card, Button, Form } from \"react-bootstrap\";\nimport Rating from '../components/Rating';\nimport axios from \"axios\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { listSingleProduct, createProductReview } from \"../actions/productActions\";\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/productConstants';\nimport Meta from '../components/Meta';\nimport MarginalDistanceTop from '../components/MarginalDistanceTop';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProductScreen = props => {\n  _s();\n\n  //const product = products.find((p => p._id === props.match.params.id))\n  const dispatch = useDispatch();\n  const productDetail = useSelector(state => state.productDetail);\n  const {\n    loading,\n    error,\n    product\n  } = productDetail;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  const productReviewCreate = useSelector(state => state.productReviewCreate);\n  const {\n    loading: loadingProductReview,\n    error: errorProductReview,\n    success: successProductReview\n  } = productReviewCreate;\n  const [qty, setQty] = useState(1);\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState('');\n  useEffect(() => {\n    dispatch(listSingleProduct(props.match.params.id));\n    dispatch({\n      type: PRODUCT_CREATE_REVIEW_RESET\n    });\n  }, [props.match.params.id]);\n  useEffect(() => {\n    dispatch(listSingleProduct(props.match.params.id));\n\n    if (successProductReview) {\n      alert('Review Submitted');\n      setComment('');\n      setRating(0);\n    }\n  }, [dispatch, successProductReview]);\n\n  const addToCartHandler = () => {\n    props.history.push(`/cart/${props.match.params.id}?qty=${qty}`);\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(createProductReview(props.match.params.id, {\n      rating,\n      comment\n    }));\n    console.log(\"submitted\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MarginalDistanceTop, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      className: \"btn btn-dark my-3\",\n      to: \"/\",\n      children: \"Go Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 27\n    }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 48\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Meta, {\n        title: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          sm: 12,\n          md: 6,\n          lg: 6,\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: product.image,\n            alt: product.name,\n            fluid: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          style: {\n            backgroundColor: \"blue\"\n          },\n          children: /*#__PURE__*/_jsxDEV(ListGroup, {\n            variant: \"flush\",\n            children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Rating, {\n                value: product.rating,\n                text: `${product.numReviews} reviews`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [\"Brand: \", product.brand ? product.brand.toUpperCase() : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [\"Price: \", /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-rupee-sign\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 35\n              }, this), product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [\"Description: \", product.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(ListGroup, {\n              children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Price:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 91,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: [\"$\", product.price]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 95,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Status:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 101,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: product.countInStock > 0 ? \"In Stock\" : \"Out of Stock\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 29\n              }, this), product.countInStock > 0 && /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Qty\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                      as: \"select\",\n                      value: qty,\n                      onChange: e => {\n                        setQty(e.target.value);\n                      },\n                      children: [...Array(product.countInStock).keys()].map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: x + 1,\n                        children: x + 1\n                      }, x + 1, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 121,\n                        columnNumber: 54\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    className: \"btn-block \",\n                    type: \"button\",\n                    onClick: addToCartHandler,\n                    disabled: product.countInStock === 0,\n                    children: \"Add to Cart\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Reviews\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 33\n          }, this), product.reviews.length === 0 && /*#__PURE__*/_jsxDEV(Message, {\n            children: \"No Reviews\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 66\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n            variant: \"flush\",\n            children: product.reviews && product.reviews.map(review => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"Reviewer : \", review.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(Rating, {\n                value: review.rating\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Review At : \", review.createdAt.substring(0, 10)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Comments : \", review.comment]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 45\n              }, this)]\n            }, review._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 33\n          }, this), errorProductReview && /*#__PURE__*/_jsxDEV(Message, {\n            variant: \"danger\",\n            children: errorProductReview\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 56\n          }, this), loadingProductReview && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 58\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Write a Customer Review\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 37\n            }, this), userInfo ? /*#__PURE__*/_jsxDEV(Form, {\n              onSubmit: submitHandler,\n              children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"my-2\",\n                id: \"rating\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Rating\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  as: \"select\",\n                  value: rating,\n                  onChange: e => setRating(e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: 0,\n                    children: \"select rating\"\n                  }, 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 58\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: 1,\n                    children: \"1 - Poor\"\n                  }, 1, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: 2,\n                    children: \"2 - Fair\"\n                  }, 2, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: 3,\n                    children: \"3 - Good\"\n                  }, 3, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: 4,\n                    children: \"4 - Very Good\"\n                  }, 4, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: 5,\n                    children: \"5 - Excellent\"\n                  }, 5, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 57\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 53\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"my-2\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Comment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  as: \"textarea\",\n                  row: \"3\",\n                  placeholder: \"Enter comment\",\n                  value: comment,\n                  onChange: e => setComment(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  className: \" my-2\",\n                  variant: \"primary\",\n                  children: \"Add comment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 45\n            }, this) : /*#__PURE__*/_jsxDEV(Message, {\n              children: [\"Please \", /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/login\",\n                children: \"Sign in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 64\n              }, this), \" to write a review\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n};\n\n_s(ProductScreen, \"ed9aZwO6XJBNGzsSkUnmtdjnoNM=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = ProductScreen;\nexport default ProductScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductScreen\");","map":{"version":3,"sources":["D:/MernStactEcommerce/ecommerce/src/screens/ProductScreen.js"],"names":["React","useState","useEffect","Link","Row","Col","Image","ListGroup","Card","Button","Form","Rating","axios","useDispatch","useSelector","listSingleProduct","createProductReview","Loader","Message","PRODUCT_CREATE_REVIEW_RESET","Meta","MarginalDistanceTop","ProductScreen","props","dispatch","productDetail","state","loading","error","product","userLogin","userInfo","productReviewCreate","loadingProductReview","errorProductReview","success","successProductReview","qty","setQty","rating","setRating","comment","setComment","match","params","id","type","alert","addToCartHandler","history","push","submitHandler","e","preventDefault","console","log","name","image","backgroundColor","numReviews","brand","toUpperCase","price","description","countInStock","target","value","Array","keys","map","x","reviews","length","review","createdAt","substring","_id"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {Row,Col,Image,ListGroup,Card,Button, Form } from \"react-bootstrap\";\r\nimport Rating from '../components/Rating';\r\nimport axios from \"axios\";\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { listSingleProduct,createProductReview } from \"../actions/productActions\"\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport {PRODUCT_CREATE_REVIEW_RESET} from '../constants/productConstants'\r\nimport Meta from '../components/Meta';\r\nimport MarginalDistanceTop from '../components/MarginalDistanceTop';\r\n\r\nconst ProductScreen = (props) => {\r\n    //const product = products.find((p => p._id === props.match.params.id))\r\n    const dispatch = useDispatch();\r\n    const productDetail = useSelector(state => state.productDetail)\r\n    const { loading, error, product } = productDetail;\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin;\r\n\r\n    const productReviewCreate = useSelector(state => state.productReviewCreate)\r\n    const { loading: loadingProductReview , error: errorProductReview , success: successProductReview  } = productReviewCreate;\r\n    \r\n    const [qty, setQty] = useState(1)\r\n    const[rating,setRating]=useState(0)\r\n    const [comment, setComment] = useState('')\r\n    useEffect(() => {\r\n        dispatch(listSingleProduct(props.match.params.id))\r\n        dispatch({type:PRODUCT_CREATE_REVIEW_RESET})\r\n    }, [props.match.params.id])\r\n    useEffect(() => {\r\n        dispatch(listSingleProduct(props.match.params.id))\r\n        if (successProductReview)\r\n        {\r\n            alert('Review Submitted')\r\n            setComment('')\r\n            setRating(0)\r\n        }\r\n    }, [dispatch,successProductReview])\r\n    \r\n    const addToCartHandler = () => {\r\n        props.history.push(`/cart/${props.match.params.id}?qty=${qty}`)\r\n    }\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n        dispatch(createProductReview(props.match.params.id, {\r\n            rating,\r\n            comment\r\n        }))\r\n       \r\n        console.log(\"submitted\")\r\n  }\r\n    return (\r\n        <>\r\n            <MarginalDistanceTop/>\r\n            <Link className=\"btn btn-dark my-3\" to=\"/\">Go Back</Link>\r\n            {\r\n                loading ? <Loader /> : error ? <Message variant='danger'>{error}</Message> : (\r\n                    <>\r\n                        <Meta title={product.name}/>\r\n                <Row>\r\n                <Col sm={12} md={6} lg={6}>\r\n                        <Image src={product.image} alt={product.name} fluid />\r\n                </Col>\r\n                <Col md={3} style={{backgroundColor:\"blue\"}}>\r\n                    <ListGroup variant=\"flush\" >\r\n                        <ListGroup.Item>\r\n                            <h3>{ product.name}</h3>\r\n                        </ListGroup.Item>\r\n                          <ListGroup.Item>\r\n                            <Rating value={product.rating} text={`${product.numReviews} reviews`}/>\r\n                            </ListGroup.Item>\r\n                            <ListGroup.Item>\r\n                           Brand: {product.brand ?product.brand.toUpperCase():null}\r\n                        </ListGroup.Item>\r\n                          <ListGroup.Item>\r\n                           Price: <i className=\"fas fa-rupee-sign\"></i>{product.price}\r\n                        </ListGroup.Item>\r\n                          <ListGroup.Item>\r\n                            Description: {product.description}\r\n                        </ListGroup.Item>\r\n                    </ListGroup>\r\n                </Col>\r\n                <Col md={3}>\r\n                    <Card>\r\n                          <ListGroup>\r\n                              <ListGroup.Item>\r\n                                <Row>\r\n                                    <Col>\r\n                                        Price:\r\n                                    </Col>\r\n                                    <Col>\r\n                                        <strong>${product.price}</strong>\r\n                                    </Col>\r\n                            </Row>\r\n                            </ListGroup.Item>\r\n                            <ListGroup.Item>\r\n                                <Row>\r\n                                    <Col>\r\n                                        Status:\r\n                                    </Col>\r\n                                    <Col>\r\n                                       {product.countInStock >0 ?\"In Stock\":\"Out of Stock\"}\r\n                                    </Col>\r\n                            </Row>\r\n                                </ListGroup.Item>\r\n                                {\r\n                                    product.countInStock > 0 && (\r\n                                        <ListGroup.Item>\r\n                                            <Row>\r\n                                                <Col>\r\n                                                    Qty\r\n                                                </Col>\r\n                                                <Col>\r\n                                                    <Form.Control as='select' value={qty} onChange={(e) => {\r\n                                                    setQty(e.target.value)\r\n                                                }}>\r\n                                                   { [...Array(product.countInStock).keys()].map((x) =>(\r\n                                                     <option key={x + 1} value={x + 1}>{x + 1}</option>\r\n                                                   ))\r\n                                                    }\r\n                                                </Form.Control>\r\n                                                </Col>\r\n                                                \r\n                                            </Row>\r\n                                        </ListGroup.Item>\r\n                                    )\r\n                            }\r\n                            <ListGroup.Item>\r\n                                <Row>\r\n                                <Button className=\"btn-block \" type=\"button\" onClick={addToCartHandler} disabled={product.countInStock ===0}>\r\n                                        Add to Cart\r\n                                </Button>\r\n                                </Row>\r\n                        </ListGroup.Item>\r\n                        </ListGroup>\r\n                    </Card>\r\n                </Col>\r\n                </Row>\r\n                    <Row>\r\n                    <Col md={6}>\r\n                                <h2>Reviews</h2>\r\n                                {product.reviews.length === 0 && <Message>No Reviews</Message>}\r\n                                <ListGroup variant='flush'>\r\n                                    {product.reviews && product.reviews.map(review => (\r\n                                        <ListGroup.Item key={review._id}>\r\n                                            <strong>Reviewer : {review.name}</strong>\r\n                                            <Rating value={review.rating} />\r\n                                            <p>Review At : {review.createdAt.substring(0, 10)}</p>\r\n                                            <p>Comments : {review.comment}</p>\r\n                                        </ListGroup.Item>\r\n                                    ))}\r\n                                </ListGroup>\r\n                                {errorProductReview && <Message variant='danger'>{errorProductReview}</Message>}\r\n                                {loadingProductReview && <Loader />}\r\n                                <ListGroup.Item>\r\n                                    <h2>Write a Customer Review</h2>\r\n                                    {\r\n                                        userInfo ? (\r\n                                            <Form onSubmit={submitHandler}>\r\n                                            <Form.Group className=\"my-2\" id=\"rating\">\r\n                                                <Form.Label>Rating</Form.Label>\r\n                                                    <Form.Control as='select'\r\n                                                        value={rating} onChange={(e) => setRating(e.target.value)}>\r\n                                                         <option key={0} value={0}>select rating</option>\r\n                                                        <option key={1} value={1}>1 - Poor</option>\r\n                                                        <option key={2} value={2}>2 - Fair</option>\r\n                                                        <option key={3} value={3}>3 - Good</option>\r\n                                                        <option key={4} value={4}>4 - Very Good</option>\r\n                                                        <option key={5} value={5}>5 - Excellent</option>\r\n                                                </Form.Control>\r\n                                            </Form.Group>\r\n                                            <Form.Group className=\"my-2\">\r\n                                                <Form.Label>Comment</Form.Label>\r\n                                                <Form.Control\r\n                                                        as='textarea'\r\n                                                        row='3'\r\n                                                    placeholder='Enter comment'\r\n                                                    value={comment} onChange={(e) => setComment(e.target.value)}>\r\n                                                </Form.Control>\r\n                                                </Form.Group>\r\n                                                <Row>\r\n                                                    <Button type=\"submit\"  className=\" my-2\" variant='primary'  >Add comment</Button>\r\n                                                </Row>\r\n                                            </Form>)\r\n                                            : <Message >Please <Link to=\"/login\">Sign in</Link> to write a review</Message>\r\n                                    }\r\n                                </ListGroup.Item>\r\n                    </Col>\r\n                    </Row>\r\n                </>\r\n                )\r\n            }\r\n                  </>\r\n    )\r\n}\r\n\r\nexport default ProductScreen\r\n"]},"metadata":{},"sourceType":"module"}