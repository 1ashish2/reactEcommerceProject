{"ast":null,"code":"import _toConsumableArray from\"D:/MernStactEcommerce/ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/MernStactEcommerce/ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Button,Col,Pagination,Row}from'react-bootstrap';import Product from'../components/Product';import{useDispatch,useSelector}from\"react-redux\";import{listProducts}from\"../actions/productActions\";import Loader from'../components/Loader';import Message from'../components/Message';import Paginate from'../components/Paginate';import{orderLists}from\"../actions/orderAction\";import Meta from'../components/Meta';import{Link}from'react-router-dom';import Baner from'../components/Baner';import{getUserDetail}from\"../actions/userAction\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MainPageScreen=function MainPageScreen(props){var keyword=props.match.params.keyword;var pageNumber=props.match.params.pageNumber||1;var dispatch=useDispatch();var productList=useSelector(function(state){return state.productList;});var loading=productList.loading,error=productList.error,products=productList.products,page=productList.page,pages=productList.pages;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),filterProducts=_useState2[0],setFilterProducts=_useState2[1];useEffect(function(){dispatch(listProducts(keyword,pageNumber));dispatch(orderLists(''));dispatch(getUserDetail('profile'));dispatch(listProducts('',''));},[dispatch,keyword,pageNumber]);useEffect(function(){if(products&&products.length>0){filterProductData(products);}},[products]);var filterProductData=function filterProductData(products){var categories=_toConsumableArray(new Set(products.map(function(ele){return ele.category;})));var filterArray=_toConsumableArray(categories.map(function(ele,index){return{category:ele,categoryList:_toConsumableArray(products.filter(function(data,id){return data.category===ele;}))};}));setFilterProducts(filterArray);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Meta,{}),/*#__PURE__*/_jsx(\"div\",{className:\"main-page-baner\",children:/*#__PURE__*/_jsx(Baner,{})}),filterProducts&&filterProducts.length>0?filterProducts.map(function(data,i){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Row,{className:\"mt-3\",children:[/*#__PURE__*/_jsx(Col,{xs:8,sm:8,md:9,lg:9,children:/*#__PURE__*/_jsx(\"h1\",{style:{marginBottom:\"-20px\"},children:data.category})}),/*#__PURE__*/_jsx(Col,{xs:4,sm:4,md:3,lg:3,style:{display:\"flex\",justifyContent:\"flex-end\",textAlign:\"center\"},children:/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(data.category),children:/*#__PURE__*/_jsx(\"p\",{className:\"mt-3 text-info\",style:{fontSize:\"18px\"},children:\"View more\"})})})]}),/*#__PURE__*/_jsx(\"hr\",{style:{marginTop:\"1px\"}}),/*#__PURE__*/_jsx(Row,{children:data.categoryList.map(function(ele,i){if(i<4){return/*#__PURE__*/_jsx(Col,{xs:12,sm:12,md:6,lg:6,xl:6,children:/*#__PURE__*/_jsx(Product,{product:ele})},ele._id);}})})]});}):/*#__PURE__*/_jsx(\"h2\",{children:products?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(Message,{variant:\"success\",children:\"Not found products\"})})]});};export default MainPageScreen;","map":{"version":3,"sources":["D:/MernStactEcommerce/ecommerce/src/screens/MainPageScreen.js"],"names":["React","useState","useEffect","Button","Col","Pagination","Row","Product","useDispatch","useSelector","listProducts","Loader","Message","Paginate","orderLists","Meta","Link","Baner","getUserDetail","MainPageScreen","props","keyword","match","params","pageNumber","dispatch","productList","state","loading","error","products","page","pages","filterProducts","setFilterProducts","length","filterProductData","categories","Set","map","ele","category","filterArray","index","categoryList","filter","data","id","i","marginBottom","display","justifyContent","textAlign","fontSize","marginTop","_id"],"mappings":"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","sourcesContent":["import React, { useState,useEffect}from 'react'\r\nimport { Button, Col, Pagination, Row } from 'react-bootstrap';\r\nimport Product from '../components/Product';\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { listProducts } from \"../actions/productActions\"\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport Paginate from '../components/Paginate';\r\nimport {orderLists} from \"../actions/orderAction\"\r\nimport Meta from '../components/Meta';\r\nimport { Link } from 'react-router-dom';\r\nimport Baner from '../components/Baner';\r\nimport { getUserDetail } from \"../actions/userAction\"\r\nconst MainPageScreen = (props) => {\r\n    const keyword = props.match.params.keyword;\r\n    const pageNumber = props.match.params.pageNumber || 1\r\n    const dispatch = useDispatch();\r\n    const productList = useSelector(state => state.productList)\r\n    const { loading, error, products, page, pages } = productList;\r\n    const[filterProducts,setFilterProducts]=useState([])\r\n    useEffect(() => {\r\n        dispatch(listProducts(keyword, pageNumber))\r\n        dispatch(orderLists(''))\r\n        dispatch(getUserDetail('profile'))\r\n         dispatch(listProducts('',''))\r\n    }, [dispatch, keyword, pageNumber])\r\n    \r\n    useEffect(() => {\r\n        if (products && products.length >0)\r\n        {   \r\n            \r\n           filterProductData(products)\r\n        }\r\n    }, [products])\r\n    const filterProductData = (products) => {\r\n         let categories = ([...new Set(products.map(ele => ele.category))])\r\n           \r\n            let filterArray = [...categories.map((ele,index) => {\r\n              return  {category:ele,categoryList:[...products.filter((data, id) => data.category === ele)]}\r\n            })]\r\n            \r\n            setFilterProducts(filterArray)\r\n            \r\n    }\r\n    return (\r\n        <>\r\n            <Meta />\r\n            <div className=\"main-page-baner\" >\r\n             <Baner />\r\n            </div>\r\n           \r\n            {  filterProducts && filterProducts.length>0 ? filterProducts.map((data, i) => (\r\n                 <>\r\n                    <Row className=\"mt-3\">\r\n                        <Col xs={8} sm={8} md={9} lg={9} >\r\n                            <h1 style={{marginBottom:\"-20px\"}}>{data.category}</h1>\r\n                        </Col>\r\n                        <Col xs={4} sm={4} md={3} lg={3}  style={{ display: \"flex\", justifyContent: \"flex-end\",textAlign:\"center\" }}>\r\n                            <Link to={`/products/${data.category}`}>\r\n                                 <p  className=\"mt-3 text-info\" style={{fontSize:\"18px\"}}>View more</p>\r\n                            </Link>\r\n                           \r\n                        </Col>\r\n                   </Row>\r\n                    \r\n                    <hr style={{marginTop:\"1px\"}}/>\r\n               <Row>\r\n                {\r\n                            data.categoryList.map((ele, i) => {\r\n                                if (i < 4) {\r\n                                 return   <Col key={ele._id} xs={12} sm={12} md={6} lg={6} xl={6}>\r\n                                        <Product product={ele} />\r\n                                    </Col>\r\n                                }\r\n                        \r\n                            })\r\n                }\r\n               \r\n                    </Row>\r\n                    {/* <Paginate pages={pages} page={page} keyword={keyword ? keyword:\"\"} /> */}\r\n                    </>\r\n            )) : <h2>{products ? <Loader />:<Message variant=\"success\">Not found products</Message> }</h2>\r\n               \r\n            }\r\n            \r\n        </>\r\n    )\r\n}\r\n\r\nexport default MainPageScreen\r\n"]},"metadata":{},"sourceType":"module"}