{"ast":null,"code":"import _slicedToArray from\"D:/MernStactEcommerce/ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Form,Button,Col,Row,Table}from'react-bootstrap';import{LinkContainer}from'react-router-bootstrap';import{useDispatch,useSelector}from\"react-redux\";import{getUserDetail,updateUserProfile}from\"../actions/userAction\";import Loader from'../components/Loader';import Message from'../components/Message';import{USER_UPDATE_RESET}from\"../constants/userConstants\";import{orderLists}from\"../actions/orderAction\";import FilterBox from'../components/FilterBox';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProfileScreen=function ProfileScreen(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],setConfirmPassword=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),messages=_useState10[0],setMessage=_useState10[1];var dispatch=useDispatch();var userDetails=useSelector(function(state){return state.userDetails;});var loading=userDetails.loading,error=userDetails.error,user=userDetails.user;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var userUpdateProfile=useSelector(function(state){return state.userUpdateProfile;});var success=userUpdateProfile.success;var orderList=useSelector(function(state){return state.orderList;});var loadingOrders=orderList.loading,errorOrders=orderList.error,orders=orderList.orders;var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),filterDropdown=_useState12[0],setFilterDropdown=_useState12[1];useEffect(function(){setFilterDropdown('');dispatch(orderLists(''));},[]);useEffect(function(){if(!userInfo){props.history.push('/login');}else{if(user){if(!user.name||success){dispatch({type:USER_UPDATE_RESET});dispatch(getUserDetail('profile'));dispatch(orderLists(''));}else{setName(user.name);setEmail(user.email);}}}},[dispatch,props.history,userInfo,user,success]);var submitHandler=function submitHandler(e){e.preventDefault();//console.log(email)\nif(password!==confirmPassword){setMessage('Password not matched');}else{// dispatch update container  \ndispatch(updateUserProfile({id:user._id,name:name,email:email,password:password}));}};var handleFilterDropdownList=function handleFilterDropdownList(name){setFilterDropdown(name);dispatch(orderLists(name));var dd=orders.sort(function(a,b){return a.createdAt<a.createdAt?-1:1;});console.log(dd);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Row,{className:\"py-3 \",children:[/*#__PURE__*/_jsxs(Col,{md:3,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User Profile\"}),messages&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:messages}),error&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}),success&&/*#__PURE__*/_jsx(Message,{variant:\"success\",children:\"Profile updated\"}),loading&&/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"my-2\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter name\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"my-2\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email Address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Enter password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"confirmPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Confirm password\",value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"my-2\",variant:\"primary\",children:\"Update\"})]})]}),/*#__PURE__*/_jsxs(Col,{md:9,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h2\",{children:\"My orders\"})}),/*#__PURE__*/_jsx(Col,{className:\"filter-box\",style:{display:\"flex\",justifyContent:\"flex-end\",marginBottom:\"5px\"},md:3,children:/*#__PURE__*/_jsx(FilterBox,{filterDropdown:filterDropdown,handleFilterDropdownList:handleFilterDropdownList})})]}),loadingOrders?/*#__PURE__*/_jsx(Loader,{}):errorOrders?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorOrders}):/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm bg-light\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DATE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"TOTAL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PAID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DELIVERED\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders&&orders.map(function(order){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order._id}),/*#__PURE__*/_jsx(\"td\",{children:order.createdAt.substring(0,10)}),/*#__PURE__*/_jsx(\"td\",{children:order.totalPrice}),/*#__PURE__*/_jsx(\"td\",{children:order.isPaid?order.paidAt.substring(0,10):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:\"red\"}})}),/*#__PURE__*/_jsx(\"td\",{children:order.isDelivered?order.deliveredAt.substring(0,10):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:\" red\"}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(LinkContainer,{to:\"/order/\".concat(order._id),children:/*#__PURE__*/_jsx(Button,{className:\"btn-sm\",variant:\"light\",children:\"Details\"})})})]});})})]})]})]})});};export default ProfileScreen;","map":{"version":3,"sources":["D:/MernStactEcommerce/ecommerce/src/screens/ProfileScreen.js"],"names":["React","useState","useEffect","Form","Button","Col","Row","Table","LinkContainer","useDispatch","useSelector","getUserDetail","updateUserProfile","Loader","Message","USER_UPDATE_RESET","orderLists","FilterBox","ProfileScreen","props","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","messages","setMessage","dispatch","userDetails","state","loading","error","user","userLogin","userInfo","userUpdateProfile","success","orderList","loadingOrders","errorOrders","orders","filterDropdown","setFilterDropdown","history","push","type","submitHandler","e","preventDefault","id","_id","handleFilterDropdownList","dd","sort","a","b","createdAt","console","log","target","value","display","justifyContent","marginBottom","map","order","substring","totalPrice","isPaid","paidAt","color","isDelivered","deliveredAt"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Form, Button, Col, Row, Table} from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { getUserDetail,updateUserProfile } from \"../actions/userAction\"\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport {USER_UPDATE_RESET} from \"../constants/userConstants\"\r\nimport {orderLists} from \"../actions/orderAction\"\r\nimport FilterBox from '../components/FilterBox';\r\n\r\nconst ProfileScreen = (props) => {\r\n    const[name,setName]=useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [confirmPassword, setConfirmPassword] = useState('')\r\n    const [messages, setMessage] = useState(null)\r\n    const dispatch = useDispatch();\r\n    const userDetails = useSelector(state => state.userDetails)\r\n    const { loading, error, user } = userDetails;\r\n\r\n     const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin;\r\n\r\n     const userUpdateProfile = useSelector(state => state.userUpdateProfile)\r\n    const { success } = userUpdateProfile;\r\n\r\n     const orderList = useSelector(state => state.orderList)\r\n    const { loading:loadingOrders, error:errorOrders, orders } = orderList;\r\n    const [filterDropdown, setFilterDropdown] = useState('')\r\n    useEffect(() => {\r\n        setFilterDropdown('')\r\n        dispatch(orderLists(''))\r\n    },[])\r\n    useEffect(() => {\r\n        if (!userInfo)\r\n        {\r\n            props.history.push('/login')\r\n        } else {\r\n            if (user) {\r\n                if (!user.name || success) {\r\n                    dispatch({ type: USER_UPDATE_RESET })\r\n                    dispatch(getUserDetail('profile'))\r\n                    \r\n                    dispatch(orderLists(''))\r\n                } else {\r\n                    setName(user.name)\r\n                    setEmail(user.email)\r\n                }\r\n            }\r\n        }\r\n    },[dispatch,props.history,userInfo,user,success])\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n        //console.log(email)\r\n        if (password !== confirmPassword)\r\n        {\r\n            setMessage('Password not matched')\r\n        } else\r\n        {\r\n         // dispatch update container  \r\n            dispatch(updateUserProfile({\r\n                id: user._id,\r\n                name,\r\n                email,\r\n                password\r\n            }))\r\n        }\r\n        \r\n    }\r\n    const handleFilterDropdownList = (name) => {\r\n        setFilterDropdown(name)\r\n        dispatch(orderLists(name))\r\n        let dd=orders.sort((a,b)=> a.createdAt < a.createdAt?-1:1)\r\n        console.log(dd)\r\n       \r\n    }\r\n    return (\r\n        <>\r\n           \r\n            <Row className='py-3 '>\r\n            <Col md={3}>\r\n               <h2>User Profile</h2>\r\n            {messages && <Message variant='danger'>{messages}</Message>}\r\n            {error && <Message variant='danger'>{error}</Message>}\r\n            {success && <Message variant='success'>Profile updated</Message>}\r\n            {loading && <Loader/>}\r\n            <Form onSubmit={submitHandler}>\r\n                <Form.Group className=\"my-2\">\r\n                    <Form.Label>Name</Form.Label>\r\n                    <Form.Control\r\n                        type='text'\r\n                        placeholder='Enter name'\r\n                        value={name} onChange={(e) => setName(e.target.value)}>\r\n                    </Form.Control>\r\n                </Form.Group>\r\n                <Form.Group className=\"my-2\">\r\n                    <Form.Label>Email Address</Form.Label>\r\n                    <Form.Control\r\n                        type='email'\r\n                        placeholder='Enter email'\r\n                        value={email} onChange={(e) => setEmail(e.target.value)}>\r\n                    </Form.Control>\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Password</Form.Label>\r\n                    <Form.Control\r\n                        type='password'\r\n                        placeholder='Enter password'\r\n                        value={password} onChange={(e) => setPassword(e.target.value)}>\r\n                    </Form.Control>\r\n                </Form.Group>\r\n                 <Form.Group controlId='confirmPassword'>\r\n                    <Form.Label>Confirm Password</Form.Label>\r\n                    <Form.Control\r\n                        type='password'\r\n                        placeholder='Confirm password'\r\n                        value={confirmPassword} onChange={(e) => setConfirmPassword(e.target.value)}>\r\n                    </Form.Control>\r\n                </Form.Group>\r\n                <Button type=\"submit\" className=\"my-2\" variant='primary' >Update</Button>\r\n            </Form>   \r\n            </Col>\r\n                <Col md={9}>\r\n                    <Row>\r\n                        <Col>\r\n                            <h2>My orders</h2>\r\n                        </Col>\r\n                        <Col className=\"filter-box\" style={{ display: \"flex\", justifyContent: \"flex-end\",marginBottom:\"5px\" }} md={3}>\r\n                            <FilterBox\r\n                                filterDropdown={filterDropdown}\r\n                                handleFilterDropdownList={handleFilterDropdownList}\r\n                            />\r\n                        </Col>\r\n                </Row>\r\n                {\r\n                    loadingOrders ? <Loader /> : errorOrders ? <Message variant='danger'>{errorOrders}</Message>\r\n                        : (\r\n                            <Table striped bordered hover responsive className='table-sm bg-light'>\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>ID</th>\r\n                                        <th>DATE</th>\r\n                                        <th>TOTAL</th>\r\n                                        <th>PAID</th>\r\n                                        <th>DELIVERED</th>\r\n                                        <th></th>\r\n                                       \r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {\r\n                                       orders && orders.map(order => (\r\n                                            <tr>\r\n                                                <td>{order._id}</td>\r\n                                                <td>{order.createdAt.substring(0,10)}</td>\r\n                                                <td>{order.totalPrice}</td>\r\n                                                <td>{order.isPaid ? order.paidAt.substring(0, 10) : (\r\n                                                    <i className=\"fas fa-times\" style={{color:\"red\"}}></i>\r\n                                                )}</td>\r\n                                                <td>{order.isDelivered ? order.deliveredAt.substring(0, 10) :\r\n                                                    <i className=\"fas fa-times\" style={{ color: \" red\" }}></i>}</td>\r\n                                                <td><LinkContainer to={`/order/${order._id}`}>\r\n                                                    <Button className=\"btn-sm\" variant='light'>Details</Button>\r\n                                                </LinkContainer></td>\r\n                                            </tr>\r\n                                        ))\r\n                                    }\r\n                                    \r\n                                </tbody>\r\n                            </Table>\r\n                        )\r\n                }\r\n            </Col>\r\n        </Row>\r\n           \r\n     </>  \r\n    )\r\n}\r\n\r\nexport default ProfileScreen\r\n"]},"metadata":{},"sourceType":"module"}