{"ast":null,"code":"import _regeneratorRuntime from\"D:/MernStactEcommerce/ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/MernStactEcommerce/ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{CREATE_ORDER_FAIL,CREATE_ORDER_REQUEST,CREATE_ORDER_SUCCESS,ORDER_DETAIL_FAIL,ORDER_DETAIL_REQUEST,ORDER_DETAIL_SUCCESS,ORDER_PAY_FAIL,ORDER_PAY_REQUEST,ORDER_PAY_SUCCESS,ORDER_LIST_FAIL,ORDER_LIST_REQUEST,ORDER_LIST_SUCCESS,ORDER_REQUEST,ORDER_SUCCESS,ORDER_FAIL,ORDER_DELIVER_REQUEST,ORDER_DELIVER_SUCCESS,ORDER_DELIVER_FAIL}from'../constants/orderConstants';import axios from'axios';export var createOrder=function createOrder(order){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var _getState,userInfo,config,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:CREATE_ORDER_REQUEST});_getState=getState(),userInfo=_getState.userLogin.userInfo;//get state of login user\nconfig={//we r sending data to headers in json\nheaders:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(userInfo.token)}};_context.next=6;return axios.post(\"/api/orders\",order,config);case 6:result=_context.sent;dispatch({type:CREATE_ORDER_SUCCESS,payload:result.data});_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);dispatch({type:CREATE_ORDER_FAIL,payload:_context.t0.response&&_context.t0.response.data.message?_context.t0.response.data.message:_context.t0.message});case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var getOrderDetails=function getOrderDetails(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch,getState){var _getState2,userInfo,config,result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:ORDER_DETAIL_REQUEST});_getState2=getState(),userInfo=_getState2.userLogin.userInfo;//get state of login user\nconfig={//we r sending data to headers in json\nheaders:{Authorization:\"Bearer \".concat(userInfo.token)}};_context2.next=6;return axios.get(\"/api/orders/\".concat(id),config);case 6:result=_context2.sent;dispatch({type:ORDER_DETAIL_SUCCESS,payload:result.data});_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);dispatch({type:ORDER_DETAIL_FAIL,payload:_context2.t0.response&&_context2.t0.response.data.message?_context2.t0.response.data.message:_context2.t0.message});case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};export var payOrder=function payOrder(orderId,paymentResult){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch,getState){var _getState3,userInfo,config,result;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;dispatch({type:ORDER_PAY_REQUEST});_getState3=getState(),userInfo=_getState3.userLogin.userInfo;//get state of login user\nconfig={//we r sending data to headers in json\nheaders:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(userInfo.token)}};_context3.next=6;return axios.put(\"/api/orders/\".concat(orderId,\"/pay\"),paymentResult,config);case 6:result=_context3.sent;dispatch({type:ORDER_PAY_SUCCESS,payload:result.data});_context3.next=13;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);dispatch({type:ORDER_PAY_FAIL,payload:_context3.t0.response&&_context3.t0.response.data.message?_context3.t0.response.data.message:_context3.t0.message});case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[0,10]]);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}();};export var orderLists=function orderLists(){var name=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch,getState){var _getState4,userInfo,config,result;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;dispatch({type:ORDER_LIST_REQUEST});_getState4=getState(),userInfo=_getState4.userLogin.userInfo;//get state of login user\nconfig={//we r sending data to headers in json\nheaders:{Authorization:\"Bearer \".concat(userInfo.token)}};_context4.next=6;return axios.get(\"/api/orders/myorders\",config);case 6:result=_context4.sent;if(name==='date'){result.data.sort(function(a,b){return b.createdAt>a.createdAt?-1:1;});}if(name==='paid'){result.data.sort(function(a,b){return b.isPaid<a.isPaid?-1:1;});}if(name==='deliver'){result.data.sort(function(a,b){return b.isDelivered<a.isDelivered?-1:1;});}dispatch({type:ORDER_LIST_SUCCESS,payload:result.data});_context4.next=16;break;case 13:_context4.prev=13;_context4.t0=_context4[\"catch\"](0);dispatch({type:ORDER_LIST_FAIL,payload:_context4.t0.response&&_context4.t0.response.data.message?_context4.t0.response.data.message:_context4.t0.message});case 16:case\"end\":return _context4.stop();}}},_callee4,null,[[0,13]]);}));return function(_x7,_x8){return _ref4.apply(this,arguments);};}();};export var allOrderList=function allOrderList(){var name=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch,getState){var _getState5,userInfo,config,result,aa,_aa,_aa2;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;dispatch({type:ORDER_REQUEST});_getState5=getState(),userInfo=_getState5.userLogin.userInfo;//get state of login user\nconfig={//we r sending data to headers in json\nheaders:{Authorization:\"Bearer \".concat(userInfo.token)}};_context5.next=6;return axios.get(\"/api/orders\",config);case 6:result=_context5.sent;if(name==='date'){aa=result.data.sort(function(a,b){return new Date(b.createdAt)-new Date(a.createdAt);});}if(name==='paid'){_aa=result.data.sort(function(a,b){return b.isPaid<a.isPaid?-1:1;});}if(name==='deliver'){_aa2=result.data.sort(function(a,b){return b.isDelivered<a.isDelivered?-1:1;});}dispatch({type:ORDER_SUCCESS,payload:result.data});_context5.next=16;break;case 13:_context5.prev=13;_context5.t0=_context5[\"catch\"](0);dispatch({type:ORDER_FAIL,payload:_context5.t0.response&&_context5.t0.response.data.message?_context5.t0.response.data.message:_context5.t0.message});case 16:case\"end\":return _context5.stop();}}},_callee5,null,[[0,13]]);}));return function(_x9,_x10){return _ref5.apply(this,arguments);};}();};export var deliverOrder=function deliverOrder(order){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch,getState){var _getState6,userInfo,config,result;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;dispatch({type:ORDER_DELIVER_REQUEST});_getState6=getState(),userInfo=_getState6.userLogin.userInfo;//get state of login user\nconfig={//we r sending data to headers in json\nheaders:{Authorization:\"Bearer \".concat(userInfo.token)}};_context6.next=6;return axios.put(\"/api/orders/\".concat(order._id,\"/deliver\"),{},config);case 6:result=_context6.sent;dispatch({type:ORDER_DELIVER_SUCCESS,payload:result.data});_context6.next=13;break;case 10:_context6.prev=10;_context6.t0=_context6[\"catch\"](0);dispatch({type:ORDER_DELIVER_FAIL,payload:_context6.t0.response&&_context6.t0.response.data.message?_context6.t0.response.data.message:_context6.t0.message});case 13:case\"end\":return _context6.stop();}}},_callee6,null,[[0,10]]);}));return function(_x11,_x12){return _ref6.apply(this,arguments);};}();};","map":{"version":3,"sources":["D:/MernStactEcommerce/ecommerce/src/actions/orderAction.js"],"names":["CREATE_ORDER_FAIL","CREATE_ORDER_REQUEST","CREATE_ORDER_SUCCESS","ORDER_DETAIL_FAIL","ORDER_DETAIL_REQUEST","ORDER_DETAIL_SUCCESS","ORDER_PAY_FAIL","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_LIST_FAIL","ORDER_LIST_REQUEST","ORDER_LIST_SUCCESS","ORDER_REQUEST","ORDER_SUCCESS","ORDER_FAIL","ORDER_DELIVER_REQUEST","ORDER_DELIVER_SUCCESS","ORDER_DELIVER_FAIL","axios","createOrder","order","dispatch","getState","type","userInfo","userLogin","config","headers","Authorization","token","post","result","payload","data","response","message","getOrderDetails","id","get","payOrder","orderId","paymentResult","put","orderLists","name","sort","a","b","createdAt","isPaid","isDelivered","allOrderList","aa","Date","deliverOrder","_id"],"mappings":"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","sourcesContent":["import {\r\n    CREATE_ORDER_FAIL,\r\n    CREATE_ORDER_REQUEST,\r\n    CREATE_ORDER_SUCCESS,\r\n     ORDER_DETAIL_FAIL,\r\n    ORDER_DETAIL_REQUEST, ORDER_DETAIL_SUCCESS,\r\n    ORDER_PAY_FAIL,\r\n    ORDER_PAY_REQUEST,\r\n    ORDER_PAY_SUCCESS,\r\n    ORDER_LIST_FAIL,\r\n    ORDER_LIST_REQUEST,\r\n    ORDER_LIST_SUCCESS,\r\n    ORDER_REQUEST,\r\n    ORDER_SUCCESS,\r\n    ORDER_FAIL,\r\n    ORDER_DELIVER_REQUEST,\r\n    ORDER_DELIVER_SUCCESS,\r\n    ORDER_DELIVER_FAIL\r\n\r\n} from '../constants/orderConstants'\r\nimport axios from 'axios'\r\nexport const createOrder = (order) => async (dispatch,getState) => {\r\n    try {\r\n        dispatch({\r\n            type: CREATE_ORDER_REQUEST\r\n            \r\n        })\r\n        const {userLogin:{userInfo}}=getState() //get state of login user\r\n        const config = { //we r sending data to headers in json\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization:`Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n        const result = await axios.post(`/api/orders`,order, config);\r\n\r\n        dispatch({\r\n            type: CREATE_ORDER_SUCCESS,\r\n            payload:result.data\r\n        })\r\n       \r\n    } catch (error) {\r\n         dispatch({ type: CREATE_ORDER_FAIL,payload:error.response && error.response.data.message?error.response.data.message:error.message }) \r\n  \r\n    }\r\n}\r\nexport const getOrderDetails = (id) => async (dispatch,getState) => {\r\n    try {\r\n        dispatch({\r\n            type: ORDER_DETAIL_REQUEST\r\n            \r\n        })\r\n        const {userLogin:{userInfo}}=getState() //get state of login user\r\n        const config = { //we r sending data to headers in json\r\n            headers: {\r\n                Authorization:`Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n        const result = await axios.get(`/api/orders/${id}`, config);\r\n\r\n        dispatch({\r\n            type: ORDER_DETAIL_SUCCESS,\r\n            payload:result.data\r\n        })\r\n       \r\n    } catch (error) {\r\n         dispatch({ type: ORDER_DETAIL_FAIL,payload:error.response && error.response.data.message?error.response.data.message:error.message }) \r\n  \r\n    }\r\n}\r\n\r\nexport const payOrder= (orderId,paymentResult) => async (dispatch,getState) => {\r\n    try {\r\n        dispatch({\r\n            type: ORDER_PAY_REQUEST\r\n            \r\n        })\r\n        const {userLogin:{userInfo}}=getState() //get state of login user\r\n        const config = { //we r sending data to headers in json\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization:`Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n        const result = await axios.put(`/api/orders/${orderId}/pay`,paymentResult,config);\r\n\r\n        dispatch({\r\n            type: ORDER_PAY_SUCCESS,\r\n            payload:result.data\r\n        })\r\n       \r\n    } catch (error) {\r\n         dispatch({ type: ORDER_PAY_FAIL,payload:error.response && error.response.data.message?error.response.data.message:error.message }) \r\n  \r\n    }\r\n}\r\n\r\nexport const orderLists= (name='') => async (dispatch,getState) => {\r\n    try {\r\n        dispatch({\r\n            type: ORDER_LIST_REQUEST\r\n            \r\n        })\r\n        const {userLogin:{userInfo}}=getState() //get state of login user\r\n        const config = { //we r sending data to headers in json\r\n            headers: {\r\n                Authorization:`Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n        const result = await axios.get(`/api/orders/myorders`,config);\r\n        if (name === 'date')\r\n        { \r\n            result.data.sort((a,b)=> b.createdAt > a.createdAt?-1:1)\r\n        }\r\n        if (name === 'paid')\r\n        {\r\n            result.data.sort((a,b)=> b.isPaid < a.isPaid?-1:1)\r\n        }\r\n         if (name === 'deliver')\r\n        {\r\n            result.data.sort((a,b)=> b.isDelivered < a.isDelivered?-1:1)\r\n        }\r\n        \r\n        dispatch({\r\n            type: ORDER_LIST_SUCCESS,\r\n            payload:result.data\r\n        })\r\n       \r\n    } catch (error) {\r\n         dispatch({ type: ORDER_LIST_FAIL,payload:error.response && error.response.data.message?error.response.data.message:error.message }) \r\n  \r\n    }\r\n}\r\n\r\n\r\nexport const allOrderList= (name='') => async (dispatch,getState) => {\r\n    try {\r\n        dispatch({\r\n            type: ORDER_REQUEST\r\n            \r\n        })\r\n        const {userLogin:{userInfo}}=getState() //get state of login user\r\n        const config = { //we r sending data to headers in json\r\n            headers: {\r\n                Authorization:`Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n        const result = await axios.get(`/api/orders`,config);\r\n        if (name === 'date')\r\n        {\r\n            let aa = result.data.sort((a,b)=> new Date(b.createdAt) - new Date(a.createdAt))\r\n           \r\n        }\r\n        if (name === 'paid')\r\n        {\r\n           let aa = result.data.sort((a, b) => b.isPaid < a.isPaid ? -1 : 1)\r\n             \r\n        }\r\n         if (name === 'deliver')\r\n        {\r\n            let aa= result.data.sort((a, b) => b.isDelivered < a.isDelivered ? -1 : 1)\r\n              \r\n        }\r\n       \r\n        dispatch({\r\n            type: ORDER_SUCCESS,\r\n            payload:result.data\r\n        })\r\n       \r\n    } catch (error) {\r\n         dispatch({ type: ORDER_FAIL,payload:error.response && error.response.data.message?error.response.data.message:error.message }) \r\n  \r\n    }\r\n}\r\n\r\nexport const deliverOrder= (order) => async (dispatch,getState) => {\r\n    try {\r\n        dispatch({\r\n            type: ORDER_DELIVER_REQUEST\r\n            \r\n        })\r\n        const {userLogin:{userInfo}}=getState() //get state of login user\r\n        const config = { //we r sending data to headers in json\r\n            headers: {\r\n                Authorization:`Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n        const result = await axios.put(`/api/orders/${order._id}/deliver`,{},config);\r\n\r\n        dispatch({\r\n            type: ORDER_DELIVER_SUCCESS,\r\n            payload:result.data\r\n        })\r\n       \r\n    } catch (error) {\r\n         dispatch({ type: ORDER_DELIVER_FAIL,payload:error.response && error.response.data.message?error.response.data.message:error.message }) \r\n  \r\n    }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}